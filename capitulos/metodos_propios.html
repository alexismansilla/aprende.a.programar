<!DOCTYPE HTML>
<html lang="es">
    <head prefix="og: http://ogp.me/ns# book: http://ogp.me/ns/book#">
        
        <meta charset="UTF-8">
        <title>Métodos Propios | Aprende a Programar con Ruby</title>

        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <meta name="robots" content="index, follow">
        <meta name="author" content="rubysur">
        <meta name="description" content="Cuando programas una computadora, necesitas &quot;hablar&quot; en la forma que tu
computadora entienda: un lenguaje de programación. Existen diferentes
lenguajes y muchos de ellos son excelentes. En esta guía voy a
usar mi lenguaje de programación favorito: _Ruby_.">
        <meta name="keywords" content="gitbook,github" >
        <meta name="generator" content="www.gitbook.io">

        
        <link rel="next" href="../capitulos/clases.html" />
        
        
        <link rel="prev" href="../capitulos/matrices.html" />
        

        <meta property="og:title" content="Métodos Propios | Aprende a Programar con Ruby">
        <meta property="og:site_name" content="Aprende a Programar con Ruby">
        <meta property="og:type" content="book">
        <meta property="og:locale" content="en_US">

        <meta property="book:author" content="https://github.com/rubysur">
        <meta property="book:tag" content="GitBook">

        <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
        <meta name="apple-mobile-web-app-capable" content="yes">
        <meta name="apple-mobile-web-app-status-bar-style" content="black">

        <link rel="shortcut icon" href="../gitbook/images/favicon.ico" type="image/x-icon">
        
    </head>
    <body>
        
    <div class="book" data-github="rubysur/aprende.a.programar" data-level="9" data-basepath=".." data-revision="1398100771986">
    <div class="book-header">
    <!-- Actions Left -->
    
    <a href="https://github.com/rubysur/aprende.a.programar" target="_blank" class="btn pull-left"><i class="fa fa-github-alt"></i></a>
    
    <a href="#" class="btn pull-left toggle-summary"><i class="fa fa-align-justify"></i></a>
    <a href="#" class="btn pull-left toggle-search"><i class="fa fa-search"></i></a>

    <!-- Actions Right -->
    <a href="#" target="_blank" class="btn pull-right" data-sharing="google-plus"><i class="fa fa-google-plus"></i></a>
    <a href="#" target="_blank" class="btn pull-right" data-sharing="facebook"><i class="fa fa-facebook"></i></a>
    <a href="#" target="_blank" class="btn pull-right" data-sharing="twitter"><i class="fa fa-twitter"></i></a>

    
    <a href="https://github.com/rubysur/aprende.a.programar/stargazers" target="_blank" class="btn pull-right count-star"><i class="fa fa-star-o"></i> Star (<span>-</span>)</a>
    <a href="https://github.com/rubysur/aprende.a.programar/watchers" target="_blank" class="btn pull-right count-watch"><i class="fa fa-eye"></i> Watch (<span>-</span>)</a>
    

    <!-- Title -->
    <h1>
      <a href="../" >
        Aprende a Programar con Ruby
        <img src="../gitbook/images/ruby.png">
      </a>
    </h1>
</div>

    <div class="book-summary">
    <div class="book-search">
        <input type="text" placeholder="Search" class="form-control" />
    </div>
    <ul class="summary">
        
        <li>
            <a href="http://rubysur.org/" target="blank">RubySur</a>
        </li>
        <li>
            <a href="https://github.com/rubysur/aprende.a.programar/issues" target="blank">Preguntas y Errores</a>
        </li>
        <li>
            <a href="https://github.com/rubysur/aprende.a.programar/edit/master/capitulos/metodos_propios.md" target="blank">Edita y Contribuye!</a>
        </li>
        <li class="divider"></li>
        
        <li data-level="0" data-path="index.html">
            <a href="../"><i class="fa fa-check"></i>Introducción</a>
        </li>
        
            <li  data-level="1" data-path="capitulos/instalacion.html">
                
                <a href="../capitulos/instalacion.html">
                    <i class="fa fa-check"></i> <b>1.</b> Instalación
                </a>
                
                
            </li>
        
            <li  data-level="2" data-path="capitulos/numeros.html">
                
                <a href="../capitulos/numeros.html">
                    <i class="fa fa-check"></i> <b>2.</b> Números
                </a>
                
                
            </li>
        
            <li  data-level="3" data-path="capitulos/textos.html">
                
                <a href="../capitulos/textos.html">
                    <i class="fa fa-check"></i> <b>3.</b> Textos
                </a>
                
                
            </li>
        
            <li  data-level="4" data-path="capitulos/variables.html">
                
                <a href="../capitulos/variables.html">
                    <i class="fa fa-check"></i> <b>4.</b> Variables
                </a>
                
                
            </li>
        
            <li  data-level="5" data-path="capitulos/conversiones.html">
                
                <a href="../capitulos/conversiones.html">
                    <i class="fa fa-check"></i> <b>5.</b> Conversiones
                </a>
                
                
            </li>
        
            <li  data-level="6" data-path="capitulos/metodos.html">
                
                <a href="../capitulos/metodos.html">
                    <i class="fa fa-check"></i> <b>6.</b> Métodos
                </a>
                
                
            </li>
        
            <li  data-level="7" data-path="capitulos/condicionales.html">
                
                <a href="../capitulos/condicionales.html">
                    <i class="fa fa-check"></i> <b>7.</b> Condicionales
                </a>
                
                
            </li>
        
            <li  data-level="8" data-path="capitulos/matrices.html">
                
                <a href="../capitulos/matrices.html">
                    <i class="fa fa-check"></i> <b>8.</b> Matrices e Iteraciones
                </a>
                
                
            </li>
        
            <li  data-level="9" data-path="capitulos/metodos_propios.html">
                
                <a href="../capitulos/metodos_propios.html">
                    <i class="fa fa-check"></i> <b>9.</b> Métodos Propios
                </a>
                
                
            </li>
        
            <li  data-level="10" data-path="capitulos/clases.html">
                
                <a href="../capitulos/clases.html">
                    <i class="fa fa-check"></i> <b>10.</b> Clases
                </a>
                
                
            </li>
        
            <li  data-level="11" data-path="capitulos/bloques.html">
                
                <a href="../capitulos/bloques.html">
                    <i class="fa fa-check"></i> <b>11.</b> Bloques
                </a>
                
                
            </li>
        
            <li  data-level="12" data-path="capitulos/fin.html">
                
                <a href="../capitulos/fin.html">
                    <i class="fa fa-check"></i> <b>12.</b> Fin
                </a>
                
                
            </li>
        
            <li  data-level="13" data-path="capitulos/acerca.html">
                
                <a href="../capitulos/acerca.html">
                    <i class="fa fa-check"></i> <b>13.</b> Acerca de
                </a>
                
                
            </li>
        
    </ul>
</div>

    <div class="book-body">
        <div class="body-inner">
            <div class="page-wrapper" tabindex="-1">
                <div class="book-progress">
    <div class="bar">
        <div class="inner" style="width: 100%;min-width: 92.3076923076923%;"></div>
    </div>
    <div class="chapters">
    
        <a href="../index.html" title="Introduction" class="chapter done new-chapter" data-progress="0" style="left: 0%;"></a>
    
        <a href="../capitulos/instalacion.html" title="Instalación" class="chapter done new-chapter" data-progress="1" style="left: 7.6923076923076925%;"></a>
    
        <a href="../capitulos/clases.html" title="Clases" class="chapter done " data-progress="10" style="left: 15.384615384615385%;"></a>
    
        <a href="../capitulos/bloques.html" title="Bloques" class="chapter done " data-progress="11" style="left: 23.076923076923077%;"></a>
    
        <a href="../capitulos/fin.html" title="Fin" class="chapter done " data-progress="12" style="left: 30.76923076923077%;"></a>
    
        <a href="../capitulos/acerca.html" title="Acerca de" class="chapter done " data-progress="13" style="left: 38.46153846153846%;"></a>
    
        <a href="../capitulos/numeros.html" title="Números" class="chapter done new-chapter" data-progress="2" style="left: 46.15384615384615%;"></a>
    
        <a href="../capitulos/textos.html" title="Textos" class="chapter done new-chapter" data-progress="3" style="left: 53.84615384615385%;"></a>
    
        <a href="../capitulos/variables.html" title="Variables" class="chapter done new-chapter" data-progress="4" style="left: 61.53846153846154%;"></a>
    
        <a href="../capitulos/conversiones.html" title="Conversiones" class="chapter done new-chapter" data-progress="5" style="left: 69.23076923076923%;"></a>
    
        <a href="../capitulos/metodos.html" title="Métodos" class="chapter done new-chapter" data-progress="6" style="left: 76.92307692307692%;"></a>
    
        <a href="../capitulos/condicionales.html" title="Condicionales" class="chapter done new-chapter" data-progress="7" style="left: 84.61538461538461%;"></a>
    
        <a href="../capitulos/matrices.html" title="Matrices e Iteraciones" class="chapter done new-chapter" data-progress="8" style="left: 92.3076923076923%;"></a>
    
        <a href="../capitulos/metodos_propios.html" title="Métodos Propios" class="chapter done new-chapter" data-progress="9" style="left: 100%;"></a>
    
    </div>
</div>

                <div class="page-inner">
                
                    <section class="normal" id="section-gitbook_11">
                    
                        <h1 id="m-todos-propios">Métodos Propios</h1>
<p>Como hemos visto anteriormente, los bucles e iteradores
nos permiten hacer lo mismo (o ejecutar el mismo código) una y
otra vez.  Sin embargo, a veces queremos hacer algo una determinada
cantidad de veces pero desde distintos lugares en el
programa. Por ejemplo, supongamos que estamos escribiendo un
programa que hace un cuestionario para un estudiante de
sicología. De los estudiantes de sicología que he conocido y
de los cuestionarios que me han dado, esto sería algo similar
a:</p>
<p><em>Código:</em></p>
<pre><code class="lang-ruby">puts <span class="hljs-string">'Hola, y gracias por tomarse el tiempo para'</span>
puts <span class="hljs-string">'que me ayude con este experimento. Mi experimento'</span>
puts <span class="hljs-string">'tiene que ver con tu gusto acerca de'</span>
puts <span class="hljs-string">'la comida mexicana. Basta con pensar en la comida mexicana'</span>
puts <span class="hljs-string">'y tratar de contestar todas las preguntas con honestidad,'</span>
puts <span class="hljs-string">'ya sea con un "sí" o un "no". Mi experimento'</span>
puts <span class="hljs-string">'no tiene nada que ver con mojar la cama.'</span>
puts

<span class="hljs-comment">#  Preguntaremos, pero ignoraremos sus respuestas.</span>

buenaRespuesta = <span class="hljs-keyword">false</span>
<span class="hljs-keyword">while</span> (<span class="hljs-keyword">not</span> buenaRespuesta)
  puts <span class="hljs-string">'¿Te gusta comer tacos?'</span>
  respuesta = gets.chomp.downcase
  <span class="hljs-keyword">if</span> (respuesta == <span class="hljs-string">'si'</span> <span class="hljs-keyword">or</span> respuesta == <span class="hljs-string">'no'</span>)
    buenaRespuesta = <span class="hljs-keyword">true</span>
  <span class="hljs-keyword">else</span>
    puts <span class="hljs-string">'Por favor, responda "si" o "no".'</span>
  <span class="hljs-keyword">end</span>
<span class="hljs-keyword">end</span>

buenaRespuesta = <span class="hljs-keyword">false</span>
<span class="hljs-keyword">while</span> (<span class="hljs-keyword">not</span> buenaRespuesta)
  puts <span class="hljs-string">'¿Te gusta comer burritos?'</span>
  respuesta = gets.chomp.downcase
  <span class="hljs-keyword">if</span> (respuesta == <span class="hljs-string">'si'</span> <span class="hljs-keyword">or</span> respuesta == <span class="hljs-string">'no'</span>)
    buenaRespuesta = <span class="hljs-keyword">true</span>
  <span class="hljs-keyword">else</span>
    puts <span class="hljs-string">'Por favor, responda "si" o "no".'</span>
  <span class="hljs-keyword">end</span>
<span class="hljs-keyword">end</span>

<span class="hljs-comment">#  Presta atención a *esta* respuesta.</span>
buenaRespuesta = <span class="hljs-keyword">false</span>
<span class="hljs-keyword">while</span> (<span class="hljs-keyword">not</span> buenaRespuesta)
  puts <span class="hljs-string">'¡Mojas la cama?'</span>
  respuesta = gets.chomp.downcase
  <span class="hljs-keyword">if</span> (respuesta == <span class="hljs-string">'si'</span> <span class="hljs-keyword">or</span> respuesta == <span class="hljs-string">'no'</span>)
    buenaRespuesta = <span class="hljs-keyword">true</span>
    <span class="hljs-keyword">if</span> respuesta == <span class="hljs-string">'si'</span>
      mojasLaCama = <span class="hljs-keyword">true</span>
    <span class="hljs-keyword">else</span>
      mojasLaCama = <span class="hljs-keyword">false</span>
    <span class="hljs-keyword">end</span>
  <span class="hljs-keyword">else</span>
    puts <span class="hljs-string">'Por favor, responda "si" o "no".'</span>
  <span class="hljs-keyword">end</span>
<span class="hljs-keyword">end</span>

buenaRespuesta = <span class="hljs-keyword">false</span>
<span class="hljs-keyword">while</span> (<span class="hljs-keyword">not</span> buenaRespuesta)
  puts <span class="hljs-string">'¿Te gusta comer chimichangas?'</span>
  respuesta = gets.chomp.downcase
  <span class="hljs-keyword">if</span> (respuesta == <span class="hljs-string">'si'</span> <span class="hljs-keyword">or</span> respuesta == <span class="hljs-string">'no'</span>)
    buenaRespuesta = <span class="hljs-keyword">true</span>
  <span class="hljs-keyword">else</span>
    puts <span class="hljs-string">'Por favor, responda "si" o "no".'</span>
  <span class="hljs-keyword">end</span>
<span class="hljs-keyword">end</span>

puts <span class="hljs-string">'Solo una cuantas preguntas más...'</span>

buenaRespuesta = <span class="hljs-keyword">false</span>
<span class="hljs-keyword">while</span> (<span class="hljs-keyword">not</span> buenaRespuesta)
  puts <span class="hljs-string">'¿Te gusta comer sopapillas?'</span>
  respuesta = gets.chomp.downcase
  <span class="hljs-keyword">if</span> (respuesta == <span class="hljs-string">'si'</span> <span class="hljs-keyword">or</span> respuesta == <span class="hljs-string">'no'</span>)
    buenaRespuesta = <span class="hljs-keyword">true</span>
  <span class="hljs-keyword">else</span>
    puts <span class="hljs-string">'Por favor, responda "si" o "no".'</span>
  <span class="hljs-keyword">end</span>
<span class="hljs-keyword">end</span>

<span class="hljs-comment">#  Preguntas otras cosas sobre la comida mexicana.</span>

puts
puts <span class="hljs-string">'Interrogatorio:'</span>
puts <span class="hljs-string">'Gracias por tomarse el tiempo para ayudar con'</span>
puts <span class="hljs-string">'este experimento. De hecho, este experimento'</span>
puts <span class="hljs-string">'no tiene nada que ver con la comida mexicana. Es'</span>
puts <span class="hljs-string">'un experimento sobre mojar la cama. La comida mexicana'</span>
puts <span class="hljs-string">'ahí para atraparte con la guardia baja'</span>
puts <span class="hljs-string">'con la esperanza de que respondería más'</span>
puts <span class="hljs-string">'honestamente. Gracias de nuevo.'</span>
puts
puts mojasLaCama
</code></pre>
<p><em>Resultado:</em></p>
<pre><code class="lang-html">Hola, y gracias por tomarse el tiempo para
que me ayude con este experimento. Mi experimento
tiene que ver con tu gusto acerca de
la comida mexicana. Basta con pensar en la comida mexicana
y tratar de contestar todas las preguntas con honestidad,
ya sea con un &quot;sí&quot; o un &quot;no&quot;. Mi experimento
no tiene nada que ver con mojar la cama.

¿Te gusta comer tacos?
si
¿Te gusta comer burritos?
si
¡Mojas la cama?
de ninguna manera
Por favor, responda &quot;si&quot; o &quot;no&quot;.
¡Mojas la cama?
NO
¿Te gusta comer chimichangas?
si
Solo una cuantas preguntas más...
¿Te gusta comer sopapillas?
si

Interrogatorio:
Gracias por tomarse el tiempo para ayudar con
este experimento. De hecho, este experimento
no tiene nada que ver con la comida mexicana. Es
un experimento sobre mojar la cama. La comida mexicana
ahí para atraparte con la guardia baja
con la esperanza de que respondería más
honestamente. Gracias de nuevo.

false
</code></pre>
<p>Ese fue un programa bastante largo, con mucha repetición.
(Todas las secciones de código sobre las preguntas de comida
mexicana eran idénticas, y la pregunta sobre mojar la cama fue
la única pregunta algo diferente).
La repetición es mala. Sin embargo, no podemos transformar el
código en un gran bucle o iterador, porque a veces queremos
hacer algo entre las preguntas. En situaciones como estas,
es mejor escribir un método. Aquí está como:</p>
<pre><code class="lang-ruby"><span class="hljs-function"><span class="hljs-keyword">def</span> </span>decirMu
  puts <span class="hljs-string">'muuuuuu...'</span>
<span class="hljs-keyword">end</span>
</code></pre>
<p>Uy... nuestro programa no hizo <code>muuuuuu</code>. ¿Por qué no?, Porque no le dijimos que lo hiciera.
Le dijimos <em>cómo</em> hacer <code>muuuuuu</code>, pero nunca le dijimos en realidad que lo <em>haga</em>.
Intentemos otra vez:</p>
<p><em>Código:</em></p>
<pre><code class="lang-ruby"><span class="hljs-function"><span class="hljs-keyword">def</span> </span>decirMu
  puts <span class="hljs-string">'muuuuuu...'</span>
<span class="hljs-keyword">end</span>

decirMu
decirMu
puts <span class="hljs-string">'coin-coin'</span>
decirMu
decirMu
</code></pre>
<p><em>Resultado:</em></p>
<pre><code class="lang-html">muuuuuu...
muuuuuu...
coin-coin
muuuuuu...
muuuuuu...
</code></pre>
<p>Ah, mucho mejor. (En caso que no hables francés, eso fue un pato francés en medio del programa. En
Francia los patos dicen <em>coin-coin</em>.)</p>
<p>Por lo tanto, <code>def</code>inimos el método de <code>decirMu</code>. (Nombres de los métodos, al igual que
los nombres de variables, comienzan con letras minúsculas. Hay unas pocas excepciones, tales
como <code>+</code> o <code>==</code>.) ¿Pero los métodos no siempre tienen que estar asociados con objetos?.
Bueno, sí, y en este caso (como sucede con <code>puts</code> y <code>gets</code>), el método sólo está
asociado con el objeto que representa la totalidad del programa. En el próximo
capítulo veremos cómo agregar métodos a otros objetos. Pero primero ...</p>
<h2 id="par-metros-del-m-todo">Parámetros del Método</h2>
<p>Habrás notado que algunos métodos (como <code>gets</code>, <code>to_s</code>, <code>reverse</code>...) solo pueden
ser llamados en un objeto. Sin embargo, otros métodos (como <code>+</code> , <code>-</code> , <code>puts</code>...) toman
los <em>parámetros</em> para decir al objeto que hacer con el método. Por ejemplo, no sólo
le diría <code>5+</code>, ¿verdad? Le estás pidiendo 5 que agregue, pero no le estás diciendo
lo que va a agregar.</p>
<p>Para agregar un parámetro a <code>decirMu</code> (digamos, el número de muuuuuu), haríamos lo siguiente:</p>
<p><em>Código:</em></p>
<pre><code class="lang-ruby"><span class="hljs-function"><span class="hljs-keyword">def</span> </span>decirMu numeroDeMus
  puts <span class="hljs-string">'muuuuuuu...'</span>*numeroDeMus
<span class="hljs-keyword">end</span>

decirMu <span class="hljs-number">3</span>
puts <span class="hljs-string">'oink-oink'</span>
decirMu  <span class="hljs-comment">#  Esto debería dar un error porque falta el parámetro.</span>
</code></pre>
<p><em>Resultado:</em></p>
<pre><code class="lang-html">muuuuuuu...muuuuuuu...muuuuuuu...
oink-oink
in `decirMu&#39;: wrong number of arguments (0 for 1) (ArgumentError)
</code></pre>
<p><code>numeroDeMus</code> es una variable que apunta al parámetro que se le ha pasado, lo voy a decir de nuevo,
pero es un poco confuso: <code>numeroDeMus</code> es una variable que apunta al parámetro pasado. Por lo
tanto, si digito <code>decirMu 3</code>, el parámetro es 3, y la variable <code>numeroDeMus</code> apunta a 3.</p>
<p>Como puedes ver, el parámetro es ahora <em>requerido</em>. Después de todo, lo que <code>decirMu</code> hace es multiplicar
<code>&#39;muuuuuu...</code> ¿pero, si no le dan un parámetro? Tu pobre computadora no tiene ni idea de que hacer.</p>
<p>Si los objetos en Ruby son como los nombres en español, y los métodos son como los verbos,
entonces se puede pensar en parámetros como adverbios (como con <code>decirMu</code>, donde el parámetro
nos dice como se afecta <code>decirMu</code>) o a veces como objetos directos (por ejemplo con ´puts´, donde
el parámetro es lo que se <em>muestra</em>)</p>
<h2 id="variables-locales">Variables Locales</h2>
<p>En el siguiente programa hay dos variables:</p>
<p><em>Código:</em></p>
<pre><code class="lang-ruby"><span class="hljs-function"><span class="hljs-keyword">def</span> </span>duplicaEsto num
  numeroVeces2 = num*<span class="hljs-number">2</span>
  puts num.to_s+<span class="hljs-string">' el doble es '</span>+numeroVeces2.to_s
<span class="hljs-keyword">end</span>

duplicaEsto <span class="hljs-number">44</span>
</code></pre>
<p><em>Resultado:</em></p>
<pre><code class="lang-html">44 el doble es 88
</code></pre>
<p>Las variables son <code>num</code> y <code>numeroVeces2</code>.
Los dos se encuentran dentro del método <code>duplicaEsto</code>. Estas (y todas las variables
que hemos visto hasta ahora) son las <em>variables locales</em>. Esto significa que ellos viven
dentro del método y no pueden salir. Si lo intentas obtendrás un error:</p>
<p><em>Código:</em></p>
<pre><code class="lang-ruby"><span class="hljs-function"><span class="hljs-keyword">def</span> </span>duplicaEsto num
  numeroVeces2 = num*<span class="hljs-number">2</span>
  puts num.to_s+<span class="hljs-string">' el doble es '</span>+numeroVeces2.to_s
<span class="hljs-keyword">end</span>

duplicaEsto <span class="hljs-number">44</span>
puts numeroVeces2.to_s
</code></pre>
<p><em>Resultado:</em></p>
<pre><code class="lang-html">44 el doble es 88
in `<span class="hljs-tag">&lt;<span class="hljs-title">main</span>&gt;</span>': undefined local variable or method `numeroVeces2' for main:Object (NameError)
</code></pre>
<p>Variable local no definida ... De hecho, nos <em>hicieron</em> definir esa variable local, pero
no es local donde traté de usarlo, es local en el método.</p>
<p>Esto podría ser un inconveniente, pero en realidad es bastante bueno. Significa que no tienes
acceso a las variables dentro de los métodos y también significa
que ellos no tienen acceso a <em>tus</em> variables y por lo tanto no pueden meter la pata:</p>
<p><em>Código:</em></p>
<pre><code class="lang-ruby"><span class="hljs-function"><span class="hljs-keyword">def</span> </span>pequenaMascota var
  var = <span class="hljs-keyword">nil</span>
  puts <span class="hljs-string">'¡HAHA!  ¡He malogrado tu variable!'</span>
<span class="hljs-keyword">end</span>

var = <span class="hljs-string">'¡Tu ni siquiera puedes tocar mi variable!'</span>
pequenaMascota var
puts var
</code></pre>
<p><em>Resultado:</em></p>
<pre><code class="lang-html">¡HAHA!  ¡He malogrado tu variable!
¡Tu ni siquiera puedes tocar mi variable!
</code></pre>
<p>En realidad, hay <em>dos</em> variables en el programa que se llaman <code>var</code>: uno en el
interior de <code>pequenaMascota</code> y otro fuera de él. Cuando llamamos a <code>pequenaMascota var</code>, nosotros
en realidad pasamos de un <code>var</code> a otro de manera que ambos están apuntando al mismo texto.
Luego <code>pequenaMascota</code> apuntó a su propio <code>var</code> local a <code>nil</code>, pero que no hizo nada al <code>var</code>
que está fuera del método.</p>
<h2 id="valores-de-retorno">Valores de Retorno</h2>
<p>Puedes haber notado que algunos métodos envían algo de regreso cuando son llamados.
Por ejemplo, <code>gets</code> <em>retorna</em> una cadena (la cadena que escribiste), y el método <code>+</code> en
<code>5+3</code>, (que es en realidad <code>5.+(3)</code>) devuelve <code>8</code>. Los métodos aritméticos para
los números retornan números y los métodos aritméticos para los textos devuelven textos.</p>
<p>Es importante entender la diferencia entre los métodos que devuelven un valor al método
que lo llamó, y lo que el programa muestra en la pantalla como hace <code>puts</code>. Ten en
cuenta que <code>5+3</code> retorna <code>8</code>, cosa que <em>no</em> hace la salida <code>8</code>.</p>
<p>Entonces, ¿qué es lo que <em>hace</em> <code>puts</code> al retornar? No nos importó antes, pero vamos a ver ahora:</p>
<p><em>Código:</em></p>
<pre><code class="lang-ruby">valorRetorno = puts <span class="hljs-string">'Esto es lo que puts retorna:'</span>
puts valorRetorno
</code></pre>
<p><em>Resultado:</em></p>
<pre><code class="lang-html">Esto es lo que puts retorna:
</code></pre>
<p>Así que el primer <code>puts</code> retornó <code>nil</code>. A pesar de que no lo prueba, el segundo <code>puts</code>
también lo hizo, <code>puts</code> siempre retorna <code>nil</code>. Cada método tiene que devolver algo,
incluso si el valor es solo <code>nil</code>.</p>
<p>Tómate un descanso rápido y escribe un programa para averiguar lo que <code>decirMu</code> devuelve.</p>
<p>¿Te sorprendió? Bueno, así es como funciona: el valor devuelto por un método no es más que
la última línea del método. En el caso de <code>decirMu</code>, esto significa que devuelve
<code>puts &quot;muuuuuu... &#39;* Los numeroDeMus</code>, lo cual es simplemente <code>nil</code> ya que <code>puts</code> siempre
devuelve <code>nil</code>. Si queremos que todos nuestros métodos devuelvan el texto <code>&#39;submarino amarillo&#39;</code>,
sólo tenemos que ponerla al final de ellos:</p>
<p><em>Código:</em></p>
<pre><code class="lang-ruby"><span class="hljs-function"><span class="hljs-keyword">def</span> </span>decirMu numeroDeMus
  puts <span class="hljs-string">'muuuuuu...'</span>*numeroDeMus
  <span class="hljs-string">'submarino amarillo'</span>
<span class="hljs-keyword">end</span>

x = decirMu <span class="hljs-number">2</span>
puts x
</code></pre>
<p><em>Resultado:</em></p>
<pre><code class="lang-html">muuuuuu... muuuuuuu...
submarino amarillo
</code></pre>
<p>Vamos a tratar con el experimento de sicología otra vez, pero esta vez vamos a
escribir un método que haga las preguntas por nosotros. Se tendrá que tomar la pregunta
como un parámetro, y devolver <code>true</code> si contestan que <code>sí</code>, y <code>false</code> si responden que <code>no</code>.
(Aún cuando la mayoría de veces ignoramos la respuesta, sigue siendo una buena idea
que nuestro método devuelva la respuesta. De esta manera se puede utilizar para la pregunta
de mojar la cama también.) También voy a acortar el saludo y el interrogatorio de manera
que sea más fácil de leer:</p>
<p><em>Código:</em></p>
<pre><code class="lang-ruby"><span class="hljs-function"><span class="hljs-keyword">def</span> </span>preguntar pregunta
  buenarespuesta = <span class="hljs-keyword">false</span>
  <span class="hljs-keyword">while</span> (<span class="hljs-keyword">not</span> buenarespuesta)
    puts pregunta
    reply = gets.chomp.downcase

    <span class="hljs-keyword">if</span> (reply == <span class="hljs-string">'si'</span> <span class="hljs-keyword">or</span> reply == <span class="hljs-string">'no'</span>)
      buenarespuesta = <span class="hljs-keyword">true</span>
      <span class="hljs-keyword">if</span> reply == <span class="hljs-string">'si'</span>
        answer = <span class="hljs-keyword">true</span>
      <span class="hljs-keyword">else</span>
        answer = <span class="hljs-keyword">false</span>
      <span class="hljs-keyword">end</span>
    <span class="hljs-keyword">else</span>
      puts <span class="hljs-string">'Por favor, responder "si" o "no".'</span>
    <span class="hljs-keyword">end</span>
  <span class="hljs-keyword">end</span>

  answer  <span class="hljs-comment">#  Esto es lo que retorna (`true` o `false`).</span>
<span class="hljs-keyword">end</span>

puts <span class="hljs-string">'Hola, y gracias por...'</span>
puts

preguntar <span class="hljs-string">'¿Te gusta comer tacos?'</span>      <span class="hljs-comment">#  Ignoramos la respuesta.</span>
preguntar <span class="hljs-string">'¿Te gusta comer burritos?'</span>
mojasLaCama = preguntar <span class="hljs-string">'¿Mojas la cama?'</span>  <span class="hljs-comment">#  Salvamos el valor retornado.</span>
preguntar <span class="hljs-string">'¿Te gusta comer chimichangas?'</span>
preguntar <span class="hljs-string">'¿Te gusta comer sopapillas?'</span>
preguntar <span class="hljs-string">'¿Te gusta comer tamales?'</span>
puts <span class="hljs-string">'Solo unas preguntas mas...'</span>
preguntar <span class="hljs-string">'¿Te gusta beber horchata?'</span>
preguntar <span class="hljs-string">'¿Te gusta comer flautas?'</span>

puts
puts <span class="hljs-string">'Interrogatorio:'</span>
puts <span class="hljs-string">'Gracias por...'</span>
puts
puts mojasLaCama
</code></pre>
<p><em>Resultado:</em></p>
<pre><code class="lang-html">¿Te gusta comer tacos?
si
¿Te gusta comer burritos?
si
¿Mojas la cama?
de ninguna manera
Por favor, responder &quot;si&quot; o &quot;no&quot;.
¿Mojas la cama?
NO
¿Te gusta comer chimichangas?
si
¿Te gusta comer sopapillas?
si
¿Te gusta comer tamales?
si
Solo unas preguntas mas...
¿Te gusta beber horchata?
si
¿Te gusta comer flautas?
si

Interrogatorio:
Gracias por...

false
</code></pre>
<p>No está mal, ¿eh?. Hemos sido capaces de añadir más preguntas (y la adición de
preguntas ahora es <em>fácil</em>), y nuestro programa es aún más corto!. Es una gran mejora -
El sueño de un programador perezoso.</p>
<h2 id="un-ejemplo-m-s-grande">Un ejemplo más grande</h2>
<p>Creo que otro método como ejemplo podría ser útil aquí. Llamaremos
a este <em>numeroEnEspanol</em>. Se llevará un número, como <code>22</code>, y devolverá
la versión en español de la misma (en este caso el texto de <code>&#39;veintidós&#39;</code>)
Por ahora, vamos a trabajar solamente con números enteros entre 0 a 100.</p>
<p><em>(<strong>NOTA:</strong> Este método utiliza un nuevo truco para retornar en forma temprana
en el método usando <code>return</code> e introduce un nuevo giro en las bifurcaciones: <code>elsif</code>.
Debe quedar claro en el contexto de cómo funcionan estos.)</em></p>
<p><em>Código:</em></p>
<pre><code class="lang-ruby"><span class="hljs-function"><span class="hljs-keyword">def</span> </span>numeroEnEspanol numero
  <span class="hljs-comment">#  Solo estamos considerando los números de 0-100.</span>
  <span class="hljs-keyword">if</span> numero &lt; <span class="hljs-number">0</span>
    <span class="hljs-keyword">return</span> <span class="hljs-string">'Por favor ingrese un numero mayor o igual a cero.'</span>
  <span class="hljs-keyword">end</span>
  <span class="hljs-keyword">if</span> numero &gt; <span class="hljs-number">100</span>
    <span class="hljs-keyword">return</span> <span class="hljs-string">'Por favor ingrese un numero menor o igual a 100'</span>
  <span class="hljs-keyword">end</span>

  numeroDeTexto  = <span class="hljs-string">''</span>  <span class="hljs-comment">#  Esta es el texto que retorna.</span>

  <span class="hljs-comment">#  "izquierda" es cuanto del número aún falta escribir.</span>
  <span class="hljs-comment">#  "escrito" es la parte que estamos escribiendo en estos momentos.</span>
  <span class="hljs-comment">#  escrito y izquierda... lo captas?  :)</span>
  izquierda  = numero
  escrito = izquierda/<span class="hljs-number">100</span>          <span class="hljs-comment">#  Cuantos cientos faltan escribir?</span>
  izquierda  = izquierda - escrito*<span class="hljs-number">100</span>  <span class="hljs-comment">#  Restar estos cientos.</span>

  <span class="hljs-keyword">if</span> escrito &gt; <span class="hljs-number">0</span>
    <span class="hljs-keyword">return</span> <span class="hljs-string">'cien'</span>
  <span class="hljs-keyword">end</span>

  escrito = izquierda/<span class="hljs-number">10</span>          <span class="hljs-comment">#  Cuantas decenas faltan escribir?</span>
  izquierda  = izquierda - escrito*<span class="hljs-number">10</span>  <span class="hljs-comment">#  Restar las decenas.</span>

  <span class="hljs-keyword">if</span> escrito &gt; <span class="hljs-number">0</span>
    <span class="hljs-keyword">if</span> escrito == <span class="hljs-number">1</span>  <span class="hljs-comment">#  Ah-ah...</span>
      <span class="hljs-comment">#  No podemos escribir "diezidos" en lugar de "doce",</span>
      <span class="hljs-comment">#  hemos realizado una excepción especial .</span>
      <span class="hljs-keyword">if</span>    izquierda == <span class="hljs-number">0</span>
        numeroDeTexto = numeroDeTexto + <span class="hljs-string">'diez'</span>
      <span class="hljs-keyword">elsif</span> izquierda == <span class="hljs-number">1</span>
        numeroDeTexto = numeroDeTexto + <span class="hljs-string">'once'</span>
      <span class="hljs-keyword">elsif</span> izquierda == <span class="hljs-number">2</span>
        numeroDeTexto = numeroDeTexto + <span class="hljs-string">'doce'</span>
      <span class="hljs-keyword">elsif</span> izquierda == <span class="hljs-number">3</span>
        numeroDeTexto = numeroDeTexto + <span class="hljs-string">'trece'</span>
      <span class="hljs-keyword">elsif</span> izquierda == <span class="hljs-number">4</span>
        numeroDeTexto = numeroDeTexto + <span class="hljs-string">'catorce'</span>
      <span class="hljs-keyword">elsif</span> izquierda == <span class="hljs-number">5</span>
        numeroDeTexto = numeroDeTexto + <span class="hljs-string">'quince'</span>
      <span class="hljs-keyword">elsif</span> izquierda == <span class="hljs-number">6</span>
        numeroDeTexto = numeroDeTexto + <span class="hljs-string">'dieciseis'</span>
      <span class="hljs-keyword">elsif</span> izquierda == <span class="hljs-number">7</span>
        numeroDeTexto = numeroDeTexto + <span class="hljs-string">'diecisiete'</span>
      <span class="hljs-keyword">elsif</span> izquierda == <span class="hljs-number">8</span>
        numeroDeTexto = numeroDeTexto + <span class="hljs-string">'dieciocho'</span>
      <span class="hljs-keyword">elsif</span> izquierda == <span class="hljs-number">9</span>
        numeroDeTexto = numeroDeTexto + <span class="hljs-string">'diecinueve'</span>
      <span class="hljs-keyword">end</span>
      <span class="hljs-comment">#  Desde que ya tomamos el digito faltante,</span>
      <span class="hljs-comment">#  ya no tenemos nada que escribir.</span>
      izquierda = <span class="hljs-number">0</span>
    <span class="hljs-keyword">elsif</span> escrito == <span class="hljs-number">2</span>
      <span class="hljs-comment">#  Como no podemos decir "veinteiuno",</span>
      <span class="hljs-comment">#  tenemos que eliminar la "e" final.</span>
      <span class="hljs-keyword">if</span> izquierda == <span class="hljs-number">0</span>
        numeroDeTexto = numeroDeTexto + <span class="hljs-string">'veinte'</span>
      <span class="hljs-keyword">else</span>
        numeroDeTexto = numeroDeTexto + <span class="hljs-string">'veint'</span>
      <span class="hljs-keyword">end</span>
    <span class="hljs-keyword">elsif</span> escrito == <span class="hljs-number">3</span>
      numeroDeTexto = numeroDeTexto + <span class="hljs-string">'treinta'</span>
    <span class="hljs-keyword">elsif</span> escrito == <span class="hljs-number">4</span>
      numeroDeTexto = numeroDeTexto + <span class="hljs-string">'cuartenta'</span>
    <span class="hljs-keyword">elsif</span> escrito == <span class="hljs-number">5</span>
      numeroDeTexto = numeroDeTexto + <span class="hljs-string">'cincuenta'</span>
    <span class="hljs-keyword">elsif</span> escrito == <span class="hljs-number">6</span>
      numeroDeTexto = numeroDeTexto + <span class="hljs-string">'sesenta'</span>
    <span class="hljs-keyword">elsif</span> escrito == <span class="hljs-number">7</span>
      numeroDeTexto = numeroDeTexto + <span class="hljs-string">'setenta'</span>
    <span class="hljs-keyword">elsif</span> escrito == <span class="hljs-number">8</span>
      numeroDeTexto = numeroDeTexto + <span class="hljs-string">'ochenta'</span>
    <span class="hljs-keyword">elsif</span> escrito == <span class="hljs-number">9</span>
      numeroDeTexto = numeroDeTexto + <span class="hljs-string">'noventa'</span>
    <span class="hljs-keyword">end</span>

    <span class="hljs-keyword">if</span> izquierda &gt; <span class="hljs-number">0</span>
      numeroDeTexto = numeroDeTexto + <span class="hljs-string">'i'</span>
    <span class="hljs-keyword">end</span>
  <span class="hljs-keyword">end</span>

  escrito = izquierda  <span class="hljs-comment">#  Cuanto falta para el número?</span>
  izquierda  = <span class="hljs-number">0</span>     <span class="hljs-comment">#  Restar lo que falta.</span>

  <span class="hljs-keyword">if</span> escrito &gt; <span class="hljs-number">0</span>
    <span class="hljs-keyword">if</span>    escrito == <span class="hljs-number">1</span>
      numeroDeTexto = numeroDeTexto + <span class="hljs-string">'uno'</span>
    <span class="hljs-keyword">elsif</span> escrito == <span class="hljs-number">2</span>
      numeroDeTexto = numeroDeTexto + <span class="hljs-string">'dos'</span>
    <span class="hljs-keyword">elsif</span> escrito == <span class="hljs-number">3</span>
      numeroDeTexto = numeroDeTexto + <span class="hljs-string">'tres'</span>
    <span class="hljs-keyword">elsif</span> escrito == <span class="hljs-number">4</span>
      numeroDeTexto = numeroDeTexto + <span class="hljs-string">'cuatro'</span>
    <span class="hljs-keyword">elsif</span> escrito == <span class="hljs-number">5</span>
      numeroDeTexto = numeroDeTexto + <span class="hljs-string">'cinco'</span>
    <span class="hljs-keyword">elsif</span> escrito == <span class="hljs-number">6</span>
      numeroDeTexto = numeroDeTexto + <span class="hljs-string">'seis'</span>
    <span class="hljs-keyword">elsif</span> escrito == <span class="hljs-number">7</span>
      numeroDeTexto = numeroDeTexto + <span class="hljs-string">'siete'</span>
    <span class="hljs-keyword">elsif</span> escrito == <span class="hljs-number">8</span>
      numeroDeTexto = numeroDeTexto + <span class="hljs-string">'ocho'</span>
    <span class="hljs-keyword">elsif</span> escrito == <span class="hljs-number">9</span>
      numeroDeTexto = numeroDeTexto + <span class="hljs-string">'nueve'</span>
    <span class="hljs-keyword">end</span>
  <span class="hljs-keyword">end</span>

  <span class="hljs-keyword">if</span> numeroDeTexto == <span class="hljs-string">''</span>
    <span class="hljs-comment">#  La unica forma que "numeroDeTexto" este vacio es que</span>
    <span class="hljs-comment">#  "numero" sea 0.</span>
    <span class="hljs-keyword">return</span> <span class="hljs-string">'cero'</span>
  <span class="hljs-keyword">end</span>

  <span class="hljs-comment">#  Si numeroDeTexto os hasta hasta aqui es que tenemos un numero</span>
  <span class="hljs-comment">#  entre 0 y 100, por lo que debemos retornar "numeroDeTexto".</span>
  numeroDeTexto
<span class="hljs-keyword">end</span>

puts numeroEnEspanol(  <span class="hljs-number">0</span>)
puts numeroEnEspanol(  <span class="hljs-number">9</span>)
puts numeroEnEspanol( <span class="hljs-number">10</span>)
puts numeroEnEspanol( <span class="hljs-number">21</span>)
puts numeroEnEspanol( <span class="hljs-number">17</span>)
puts numeroEnEspanol( <span class="hljs-number">32</span>)
puts numeroEnEspanol( <span class="hljs-number">88</span>)
puts numeroEnEspanol( <span class="hljs-number">99</span>)
puts numeroEnEspanol(<span class="hljs-number">100</span>)
</code></pre>
<p><em>Resultado:</em></p>
<pre><code class="lang-html">cero
nueve
diez
veintiuno
diecisiete
treintaidos
ochentaiocho
noventainueve
cien
</code></pre>
<p>Bueno, sin duda hay algunas cosas acerca de este programa que no me gustan. En primer
lugar hay demasiada repetición. En segundo lugar, no se ocupa de los números mayores de</p>
<ol>
<li>En tercer lugar, hay muchos casos especiales, demasiados <code>return</code>s. Veamos ahora
algunas matrices y tratar de limpiar un poco:</li>
</ol>
<p><em>Código:</em></p>
<pre><code class="lang-ruby"><span class="hljs-function"><span class="hljs-keyword">def</span> </span>numeroEnEspanol numero
  <span class="hljs-keyword">if</span> numero &lt; <span class="hljs-number">0</span>  <span class="hljs-comment">#  No numeros negativos</span>
    <span class="hljs-keyword">return</span> <span class="hljs-string">'Por favor ingresar un numero que nos ea negativo.'</span>
  <span class="hljs-keyword">end</span>
  <span class="hljs-keyword">if</span> numero == <span class="hljs-number">0</span>
    <span class="hljs-keyword">return</span> <span class="hljs-string">'cero'</span>
  <span class="hljs-keyword">end</span>

  <span class="hljs-comment">#  No mas casos especiales!  No mas returns!</span>

  numeroDeTexto = <span class="hljs-string">''</span>  <span class="hljs-comment">#  Esta es el texto que se retornara.</span>

  primeraPosicion = [<span class="hljs-string">'uno'</span>,     <span class="hljs-string">'dos'</span>,       <span class="hljs-string">'tres'</span>,    <span class="hljs-string">'cuatro'</span>,     <span class="hljs-string">'cinco'</span>,
               <span class="hljs-string">'seis'</span>,     <span class="hljs-string">'siete'</span>,     <span class="hljs-string">'ocho'</span>,    <span class="hljs-string">'nueve'</span>]
  segundaPosicion = [<span class="hljs-string">'diez'</span>,     <span class="hljs-string">'veinte'</span>,    <span class="hljs-string">'treinta'</span>,   <span class="hljs-string">'cuarenta'</span>,    <span class="hljs-string">'cincuenta'</span>,
               <span class="hljs-string">'sesenta'</span>,   <span class="hljs-string">'setenta'</span>,   <span class="hljs-string">'ochenta'</span>,   <span class="hljs-string">'noventa'</span>]
  entre11Y19 = [<span class="hljs-string">'once'</span>,  <span class="hljs-string">'doce'</span>,    <span class="hljs-string">'trece'</span>, <span class="hljs-string">'catorce'</span>, <span class="hljs-string">'quince'</span>,
               <span class="hljs-string">'dieciseis'</span>, <span class="hljs-string">'diecisiete'</span>, <span class="hljs-string">'dieciocho'</span>, <span class="hljs-string">'diecinueve'</span>]
  entre21Y29 = [<span class="hljs-string">'veintiuno'</span>,  <span class="hljs-string">'veintidos'</span>,    <span class="hljs-string">'veintitres'</span>, <span class="hljs-string">'veinticuatro'</span>, <span class="hljs-string">'veinticinco'</span>,
               <span class="hljs-string">'veintiseis'</span>, <span class="hljs-string">'veintisiete'</span>, <span class="hljs-string">'veintiiocho'</span>, <span class="hljs-string">'veintinueve'</span>]

  <span class="hljs-comment">#  "izquierda" es cuanto del numero aun falta escribir</span>
  <span class="hljs-comment">#  "escrito" es la parte que estamos escribiendo en este momento.</span>
  <span class="hljs-comment">#  escrito y izquierda... lo captas?  :)</span>
  izquierda  = numero
  escrito = izquierda/<span class="hljs-number">100</span>          <span class="hljs-comment">#  Cuantos cientos faltan escribir?</span>
  izquierda  = izquierda - escrito*<span class="hljs-number">100</span>  <span class="hljs-comment">#  La esta de estos cientos</span>

  <span class="hljs-keyword">if</span> escrito &gt; <span class="hljs-number">0</span>
    <span class="hljs-comment">#  Ahora hacemos un pequeño truco:</span>
    cientos  = numeroEnEspanol escrito
    numeroDeTexto = numeroDeTexto + cientos + <span class="hljs-string">' ciento'</span>

    <span class="hljs-comment"># Eso se llama "recursividad". Entonces, ¿Qué acabo de hacer?</span>
    <span class="hljs-comment"># Le dije a este método para llamarse a sí mismo, pero con "escrito" en vez de</span>
    <span class="hljs-comment"># "numero". Recuerde que "escrito" es (por el momento) el número de</span>
    <span class="hljs-comment"># cientos que tenemos que escribir. Después añadimos "hundred" de "numeroDeTexto",</span>
    <span class="hljs-comment"># añadimos la cadena 'cien' después de él. Así, por ejemplo, si</span>
    <span class="hljs-comment"># se llamó originalmente numeroEnEspanol con el 1999 (por lo que "numero" = 1999),</span>
    <span class="hljs-comment"># y luego en este momento "escrito" sería 19, y la "izquierda" sería 99.</span>
    <span class="hljs-comment"># La más perezoso que se puede hacer en ese momento es que numeroEnEspanol</span>
    <span class="hljs-comment"># escriba 'diecinueve' para nosotros, entonces escribimos 'cien',</span>
    <span class="hljs-comment"># y luego el resto de numeroEnEspanol escribe "noventa y nueve".</span>

    <span class="hljs-keyword">if</span> izquierda &gt; <span class="hljs-number">0</span>
      <span class="hljs-comment">#  So escribir  'dos ciencincuentaiuno'...</span>
      numeroDeTexto = numeroDeTexto + <span class="hljs-string">' '</span>
    <span class="hljs-keyword">end</span>
  <span class="hljs-keyword">end</span>

  escrito = izquierda/<span class="hljs-number">10</span>          <span class="hljs-comment">#  Cuantas decenas faltan escribir?</span>
  izquierda  = izquierda - escrito*<span class="hljs-number">10</span>  <span class="hljs-comment">#  Resta de estas decenas.</span>

  <span class="hljs-keyword">if</span> escrito &gt; <span class="hljs-number">0</span>
    <span class="hljs-keyword">if</span> ((escrito == <span class="hljs-number">1</span>) <span class="hljs-keyword">and</span> (izquierda &gt; <span class="hljs-number">0</span>))
      <span class="hljs-comment">#  No podemos escribir "diez-dos" instead of "doce",</span>
      <span class="hljs-comment">#  hacemos una excepción especial .</span>
      numeroDeTexto = numeroDeTexto + entre11Y19[izquierda-<span class="hljs-number">1</span>]
      <span class="hljs-comment">#  Es "-1" porque entre11Y19[3] ess 'catorce', no 'trece'.</span>

      <span class="hljs-comment">#  Ya que tomamos el digito que nos faltaba,</span>
      <span class="hljs-comment">#  no tenemos nada mas que escribir.</span>
      izquierda = <span class="hljs-number">0</span>
    <span class="hljs-keyword">elsif</span> ((escrito ==<span class="hljs-number">2</span> <span class="hljs-keyword">and</span> (izquierda&gt;<span class="hljs-number">0</span>)))
      <span class="hljs-comment">#  Similar para los veintipico</span>
      numeroDeTexto = numeroDeTexto + entre21Y29[izquierda-<span class="hljs-number">1</span>]
      izquierda = <span class="hljs-number">0</span>
    <span class="hljs-keyword">else</span>
      numeroDeTexto = numeroDeTexto + segundaPosicion[escrito-<span class="hljs-number">1</span>]
      <span class="hljs-comment">#  Es "-1" porque segundaPosicion[3] es 'cuarenta', no 'treinta'.</span>
    <span class="hljs-keyword">end</span>

    <span class="hljs-keyword">if</span> izquierda &gt; <span class="hljs-number">0</span>
      <span class="hljs-comment">#  No escribiremos 'sesentacuatro'...</span>
      numeroDeTexto = numeroDeTexto + <span class="hljs-string">'i'</span>
    <span class="hljs-keyword">end</span>
  <span class="hljs-keyword">end</span>

  escrito = izquierda  <span class="hljs-comment">#  Cuantos faltan?</span>
  izquierda  = <span class="hljs-number">0</span>     <span class="hljs-comment">#  Restar lo que falta.</span>

  <span class="hljs-keyword">if</span> escrito &gt; <span class="hljs-number">0</span>
    numeroDeTexto = numeroDeTexto + primeraPosicion[escrito-<span class="hljs-number">1</span>]
    <span class="hljs-comment">#  Es "-1" porque primeraPosicion[3] es 'cuatro', no 'tres'.</span>
  <span class="hljs-keyword">end</span>

  <span class="hljs-comment">#  Ahora solo retornamos "numeroDeTexto"...</span>
  numeroDeTexto
<span class="hljs-keyword">end</span>

puts numeroEnEspanol(  <span class="hljs-number">0</span>)
puts numeroEnEspanol(  <span class="hljs-number">9</span>)
puts numeroEnEspanol( <span class="hljs-number">10</span>)
puts numeroEnEspanol( <span class="hljs-number">11</span>)
puts numeroEnEspanol( <span class="hljs-number">17</span>)
puts numeroEnEspanol( <span class="hljs-number">32</span>)
puts numeroEnEspanol( <span class="hljs-number">88</span>)
puts numeroEnEspanol( <span class="hljs-number">99</span>)
puts numeroEnEspanol(<span class="hljs-number">100</span>)
puts numeroEnEspanol(<span class="hljs-number">101</span>)
puts numeroEnEspanol(<span class="hljs-number">234</span>)
puts numeroEnEspanol(<span class="hljs-number">3211</span>)
puts numeroEnEspanol(<span class="hljs-number">999999</span>)
puts numeroEnEspanol(<span class="hljs-number">1000000000000</span>)
</code></pre>
<p><em>Resultado:</em></p>
<pre><code class="lang-html">cero
nueve
diez
once
diecisiete
treintaidos
ochentaiocho
noventainueve
uno ciento
uno ciento uno
dos ciento treintaicuatro
treintaidos ciento once
noventainueve ciento noventainueve ciento noventainueve
uno ciento ciento ciento ciento ciento ciento
</code></pre>
<p><em>Ahhhh ....</em> Eso está mucho, mucho mejor. El programa es bastante denso, por lo
que puse varios comentarios. También funciona con números grandes ... aunque no
tan bien como cabría esperar. Por ejemplo, creo que &#39; un millón de millones &#39; sería
un valor de retorno más agradable para que el último número. De hecho, puedes hacer
eso en este momento ...</p>
<h2 id="algunas-cosas-por-intentar">Algunas cosas por intentar</h2>
<ul>
<li><p>Ampliar al <code>numeroEnEspanol</code> . En primer lugar, poner en miles. Por lo tanto, debe devolver <code>un mil</code>
en lugar de <code>diez cien</code> y <code>diez mil</code> en lugar de <code>cien cien</code> .</p>
</li>
<li><p>Ampliar al <code>numeroEnEspanol</code> un poco más. Ahora ponga en millones, para que pueda obtener <code>un millón</code>
en lugar de <code>un mil mil</code>. A continuación, pruebe a añadir miles de millones y billones.
¿Qué tan alto puede llegar?</p>
</li>
<li><p>¿Qué hay de <code>tiempoDeMatrimonio</code>? Deberá trabajar casi como <code>numeroEnEspanol</code>, excepto que se
debe insertar la palabra &quot;y&quot; por todo el lugar, volviendo las cosas como <code>&#39;mil novecientos
setenta y dos&#39;</code>, o como se supone deben verse en las invitaciones de la boda. Te daría
más ejemplos, pero yo no lo entiendo completamente. Es posible que necesite ponerse en
contacto con un coordinador de bodas para que le ayude.</p>
</li>
<li><p>Las <em>&quot;Noventa y nueve botellas de cerveza ...&quot;</em> Usando numeroEnEspanol y el viejo programa,
escribir las letras de esta canción en forma <em>correcta</em> esta vez.
Penalizar a tu computador: hacer que se inicie en 9999. (No elegir un número demasiado
grande, ya que al escribir todo eso en la pantalla de tu computador toma un buen tiempo. Cien
mil botellas de cerveza lleva tiempo;. Y si tienes que elegir un millón, te estarás
castigando tú mismo!</p>
</li>
</ul>
<p>¡Felicitaciones! En este punto, usted es un ¡programador de verdad! Usted ha aprendido
todo lo que necesita para construir grandes programas desde cero. Si tienes ideas
para los programas que te gustaría escribir para ti mismo, ¡dame una!</p>
<p>Por supuesto, construir todo desde cero puede ser un proceso bastante lento. ¿Por
qué gastar tiempo escribiendo código que alguien más ya ha escrito? ¿Quieres
que tu programa envie un correo electrónico? ¿Te gustaría guardar y cargar archivos
en tu computadora? ¿Qué hay de la generación de páginas web para ver un tutorial en
donde los ejemplos de código son automáticamente ejecutados? ;) Ruby tiene muchos
<a href="/aprende.a.programar/capitulos/clases.html">tipos de objetos</a>.
que podemos utilizar para ayudarnos a escribir mejores programas y con mayor rapidez.</p>

                    
                    </section>
                
                </div>
            </div>
        </div>

        
        <a href="../capitulos/matrices.html" class="navigation navigation-prev"><i class="fa fa-angle-left"></i></a>
        
        
        <a href="../capitulos/clases.html" class="navigation navigation-next"><i class="fa fa-angle-right"></i></a>
        
    </div>
</div>

        
        <link rel="stylesheet" href="../gitbook/style.css">
        
        
        <script src="https://cdnjs.cloudflare.com/ajax/libs/ace/1.1.3/ace.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/ace/1.1.3/mode-javascript.js"></script>
        <script src="../gitbook/jsrepl/jsrepl.js" id="jsrepl-script"></script>
        <script src="../gitbook/app.js"></script>
        
    </body>
</html>
